{"version":3,"file":"useModifiers.js","sources":["../../../src/hooks/useModifiers/useModifiers.ts"],"sourcesContent":["import { useDayPicker } from '../../contexts/DayPicker';\nimport { useSelectMultiple } from '../../contexts/SelectMultiple';\nimport { useSelectRange } from '../../contexts/SelectRange';\nimport { useSelectSingle } from '../../contexts/SelectSingle';\nimport {\n  isDayPickerMultiple,\n  isDayPickerRange,\n  isDayPickerSingle,\n  Modifiers\n} from '../../types';\nimport { UseModifiers } from './types';\nimport { getModifierStatus } from './utils/getModifierStatus';\n\n/** Return the modifiers and its styles for the specified date. */\nexport function useModifiers(date: Date): UseModifiers {\n  const context = useDayPicker();\n\n  const singleSelect = useSelectSingle();\n  const multipleSelect = useSelectMultiple();\n  const rangeSelect = useSelectRange();\n\n  // TODO: modifiers from context should not be overridden\n  const modifiers: Modifiers = {\n    ...context.modifiers,\n    today: context.modifiers.today ?? [context.today],\n    disabled: context.modifiers.disabled\n  };\n\n  if (isDayPickerSingle(context)) {\n    modifiers.selected = modifiers.selected.concat(\n      singleSelect.modifiers.selected ?? []\n    );\n  } else if (isDayPickerMultiple(context)) {\n    modifiers.selected = modifiers.selected.concat(\n      multipleSelect.modifiers.selected ?? []\n    );\n    modifiers.disabled = modifiers.disabled.concat(\n      multipleSelect.modifiers.disabled ?? []\n    );\n  } else if (isDayPickerRange(context)) {\n    modifiers.selected = modifiers.selected.concat(\n      rangeSelect.modifiers.selected ?? []\n    );\n    modifiers.disabled = modifiers.disabled.concat(\n      rangeSelect.modifiers.disabled ?? []\n    );\n    modifiers.range_start = rangeSelect.modifiers.range_start ?? [];\n    modifiers.range_middle = rangeSelect.modifiers.range_middle ?? [];\n    modifiers.range_end = rangeSelect.modifiers.range_end ?? [];\n  }\n\n  const status = getModifierStatus(date, modifiers);\n\n  const modifierClassNames: string[] = [];\n\n  Object.keys(status)\n    .filter((modifier) => Boolean(status[modifier]))\n    .forEach((modifier) => {\n      const customClassName = context.modifierClassNames[modifier];\n      if (customClassName) {\n        modifierClassNames.push(customClassName);\n      } else {\n        modifierClassNames.push(`${context.modifierPrefix}${modifier}`);\n      }\n    });\n\n  let modifierStyle = {};\n  if (context.modifierStyles) {\n    Object.keys(status).forEach((modifier) => {\n      modifierStyle = {\n        ...modifierStyle,\n        ...context.modifierStyles?.[modifier]\n      };\n    });\n  }\n\n  return {\n    modifiers: status,\n    modifierClassNames: modifierClassNames,\n    modifierStyle\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAaA;SACgB,YAAY,CAAC,IAAU;;IACrC,IAAM,OAAO,GAAG,YAAY,EAAE,CAAC;IAE/B,IAAM,YAAY,GAAG,eAAe,EAAE,CAAC;IACvC,IAAM,cAAc,GAAG,iBAAiB,EAAE,CAAC;IAC3C,IAAM,WAAW,GAAG,cAAc,EAAE,CAAC;;IAGrC,IAAM,SAAS,yBACV,OAAO,CAAC,SAAS,KACpB,KAAK,EAAE,MAAA,OAAO,CAAC,SAAS,CAAC,KAAK,mCAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EACjD,QAAQ,EAAE,OAAO,CAAC,SAAS,CAAC,QAAQ,GACrC,CAAC;IAEF,IAAI,iBAAiB,CAAC,OAAO,CAAC,EAAE;QAC9B,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAC5C,MAAA,YAAY,CAAC,SAAS,CAAC,QAAQ,mCAAI,EAAE,CACtC,CAAC;KACH;SAAM,IAAI,mBAAmB,CAAC,OAAO,CAAC,EAAE;QACvC,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAC5C,MAAA,cAAc,CAAC,SAAS,CAAC,QAAQ,mCAAI,EAAE,CACxC,CAAC;QACF,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAC5C,MAAA,cAAc,CAAC,SAAS,CAAC,QAAQ,mCAAI,EAAE,CACxC,CAAC;KACH;SAAM,IAAI,gBAAgB,CAAC,OAAO,CAAC,EAAE;QACpC,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAC5C,MAAA,WAAW,CAAC,SAAS,CAAC,QAAQ,mCAAI,EAAE,CACrC,CAAC;QACF,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAC5C,MAAA,WAAW,CAAC,SAAS,CAAC,QAAQ,mCAAI,EAAE,CACrC,CAAC;QACF,SAAS,CAAC,WAAW,GAAG,MAAA,WAAW,CAAC,SAAS,CAAC,WAAW,mCAAI,EAAE,CAAC;QAChE,SAAS,CAAC,YAAY,GAAG,MAAA,WAAW,CAAC,SAAS,CAAC,YAAY,mCAAI,EAAE,CAAC;QAClE,SAAS,CAAC,SAAS,GAAG,MAAA,WAAW,CAAC,SAAS,CAAC,SAAS,mCAAI,EAAE,CAAC;KAC7D;IAED,IAAM,MAAM,GAAG,iBAAiB,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAElD,IAAM,kBAAkB,GAAa,EAAE,CAAC;IAExC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;SAChB,MAAM,CAAC,UAAC,QAAQ,IAAK,OAAA,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAA,CAAC;SAC/C,OAAO,CAAC,UAAC,QAAQ;QAChB,IAAM,eAAe,GAAG,OAAO,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAC7D,IAAI,eAAe,EAAE;YACnB,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC1C;aAAM;YACL,kBAAkB,CAAC,IAAI,CAAC,KAAG,OAAO,CAAC,cAAc,GAAG,QAAU,CAAC,CAAC;SACjE;KACF,CAAC,CAAC;IAEL,IAAI,aAAa,GAAG,EAAE,CAAC;IACvB,IAAI,OAAO,CAAC,cAAc,EAAE;QAC1B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAC,QAAQ;;YACnC,aAAa,yBACR,aAAa,GACb,MAAA,OAAO,CAAC,cAAc,0CAAG,QAAQ,CAAC,CACtC,CAAC;SACH,CAAC,CAAC;KACJ;IAED,OAAO;QACL,SAAS,EAAE,MAAM;QACjB,kBAAkB,EAAE,kBAAkB;QACtC,aAAa,eAAA;KACd,CAAC;AACJ;;;;"}