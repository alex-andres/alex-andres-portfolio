{"version":3,"file":"YearsDropdown.js","sources":["../../../src/components/YearsDropdown/YearsDropdown.tsx"],"sourcesContent":["import React from 'react';\n\nimport { setYear, startOfYear } from 'date-fns';\n\nimport { useDayPicker } from '../../contexts/DayPicker';\nimport { MonthChangeEventHandler } from '../../types/EventHandlers';\n\n/**\n * The props for the [[YearsDropdown]] component.\n */\nexport interface YearsDropdownProps {\n  /** The month where the drop-down is displayed. */\n  displayMonth: Date;\n  /** Callback to handle the `change` event. */\n  onChange: MonthChangeEventHandler;\n}\n\n/**\n * Render a dropdown to change the year. Take in account the `nav.fromDate` and\n * `toDate` from context.\n */\nexport function YearsDropdown(props: YearsDropdownProps): JSX.Element {\n  const { displayMonth } = props;\n  const {\n    fromDate,\n    toDate,\n    locale,\n    styles,\n    classNames,\n    components: { Dropdown },\n    formatters: { formatYearCaption },\n    labels: { labelYearDropdown }\n  } = useDayPicker();\n\n  const years: Date[] = [];\n  if (fromDate && toDate) {\n    const fromYear = fromDate.getFullYear();\n    const toYear = toDate.getFullYear();\n    for (let year = fromYear; year <= toYear; year++) {\n      years.push(setYear(startOfYear(new Date()), year));\n    }\n  }\n\n  const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {\n    const newMonth = setYear(new Date(displayMonth), Number(e.target.value));\n    props.onChange(newMonth);\n  };\n\n  return (\n    <Dropdown\n      aria-label={labelYearDropdown()}\n      className={classNames.dropdown_month}\n      style={styles.dropdown_month}\n      onChange={handleChange}\n      value={displayMonth.getFullYear()}\n      caption={formatYearCaption(displayMonth, { locale })}\n    >\n      {years.map((year) => (\n        <option key={year.getFullYear()} value={year.getFullYear()}>\n          {formatYearCaption(year, { locale })}\n        </option>\n      ))}\n    </Dropdown>\n  );\n}\n"],"names":[],"mappings":";;;;;AAiBA;;;;SAIgB,aAAa,CAAC,KAAyB;IAC7C,IAAA,YAAY,GAAK,KAAK,aAAV,CAAW;IACzB,IAAA,KASF,YAAY,EAAE,EARhB,QAAQ,cAAA,EACR,MAAM,YAAA,EACN,MAAM,YAAA,EACN,MAAM,YAAA,EACN,UAAU,gBAAA,EACI,QAAQ,yBAAA,EACR,iBAAiB,kCAAA,EACrB,iBAAiB,8BACX,CAAC;IAEnB,IAAM,KAAK,GAAW,EAAE,CAAC;IACzB,IAAI,QAAQ,IAAI,MAAM,EAAE;QACtB,IAAM,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;QACxC,IAAM,MAAM,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QACpC,KAAK,IAAI,IAAI,GAAG,QAAQ,EAAE,IAAI,IAAI,MAAM,EAAE,IAAI,EAAE,EAAE;YAChD,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;SACpD;KACF;IAED,IAAM,YAAY,GAAgD,UAAC,CAAC;QAClE,IAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACzE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KAC1B,CAAC;IAEF,QACE,oBAAC,QAAQ,kBACK,iBAAiB,EAAE,EAC/B,SAAS,EAAE,UAAU,CAAC,cAAc,EACpC,KAAK,EAAE,MAAM,CAAC,cAAc,EAC5B,QAAQ,EAAE,YAAY,EACtB,KAAK,EAAE,YAAY,CAAC,WAAW,EAAE,EACjC,OAAO,EAAE,iBAAiB,CAAC,YAAY,EAAE,EAAE,MAAM,QAAA,EAAE,CAAC,IAEnD,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI,IAAK,QACnB,gCAAQ,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,IACvD,iBAAiB,CAAC,IAAI,EAAE,EAAE,MAAM,QAAA,EAAE,CAAC,CAC7B,IACV,CAAC,CACO,EACX;AACJ;;;;"}